/*
 * wiringPiI2C_mock.cpp
 *
 *  Created on: Dec 22, 2014
 *      Author: micha
 */

#include <gmock/gmock.h>  // Brings in Google Mock.

class MockWiringPiI2C{
 public:
   static MockWiringPiI2C* Instance();
   // Core wiringPi functions
   MOCK_METHOD1(wiringPiI2CRead,     int(int fd));
   MOCK_METHOD2(wiringPiI2CReadReg8,  int(int fd, int reg));
   MOCK_METHOD2(wiringPiI2CReadReg16, int(int fd, int reg));

   MOCK_METHOD2(wiringPiI2CWrite,     int(int fd, int data));
   MOCK_METHOD3(wiringPiI2CWriteReg8,  int(int fd, int reg, int data));
   MOCK_METHOD3(wiringPiI2CWriteReg16, int(int fd, int reg, int data));

   MOCK_METHOD2(wiringPiI2CSetupInterface,  int(const char *device, int devId));
   MOCK_METHOD1(wiringPiI2CSetup,     int(const int devId));
 private:
   MockWiringPiI2C(){};
   MockWiringPiI2C(MockWiringPiI2C const&){};
   static MockWiringPiI2C* m_pInstance;
};

MockWiringPiI2C* MockWiringPiI2C::m_pInstance = NULL;

MockWiringPiI2C* MockWiringPiI2C::Instance()
{
   if (!m_pInstance){
      m_pInstance = new MockWiringPiI2C;
   }
   return m_pInstance;
}

// Core wiringPi functions


int wiringPiI2CRead           (int fd) ;
int wiringPiI2CReadReg8       (int fd, int reg) ;
int wiringPiI2CReadReg16      (int fd, int reg) ;

int wiringPiI2CWrite          (int fd, int data) ;
int wiringPiI2CWriteReg8      (int fd, int reg, int data) ;
int wiringPiI2CWriteReg16     (int fd, int reg, int data) ;

int wiringPiI2CSetupInterface (const char *device, int devId) ;
int wiringPiI2CSetup          (const int devId) ;



