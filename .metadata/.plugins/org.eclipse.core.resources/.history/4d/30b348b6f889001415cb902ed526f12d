/*
 * wiringPiI2C_mock.cpp
 *
 *  Created on: Dec 22, 2014
 *      Author: micha
 */

#include <gmock/gmock.h>  // Brings in Google Mock.

class MockWiringPiI2C{
 public:
   static MockWiringPiI2C* Instance();
   // Core wiringPi functions
   MOCK_METHOD1(wiringPiI2CRead,     int(int fd));
   MOCK_METHOD2(wiringPiI2CReadReg8,  int(int fd, int reg));
   MOCK_METHOD2(wiringPiI2CReadReg16, int(int fd, int reg));
   MOCK_METHOD1(wiringPiSetupPhys, int(int fd));

   MOCK_METHOD2(pinModeAlt, void(int pin, int mode));
   MOCK_METHOD2(pinMode,    void(int pin, int mode));
   MOCK_METHOD2(pullUpDnControl, void(int pin, int pud));
   MOCK_METHOD1(digitalRead, int(int pin));
   MOCK_METHOD2(digitalWrite, void(int pin, int value));
   MOCK_METHOD2(pwmWrite, void(int pin, int value));
   MOCK_METHOD1(analogRead, int(int pin));
   MOCK_METHOD2(analogWrite, void(int pin, int value));
 private:
   MockWiringPiI2C(){};
   MockWiringPiI2C(MockWiringPiI2C const&){};
   static MockWiringPiI2C* m_pInstance;
};

MockWiringPiI2C* MockWiringPiI2C::m_pInstance = NULL;

MockWiringPiI2C* MockWiringPiI2C::Instance()
{
   if (!m_pInstance){
      m_pInstance = new MockWiringPiI2C;
   }
   return m_pInstance;
}

// Core wiringPi functions


int wiringPiI2CRead           (int fd) ;
int wiringPiI2CReadReg8       (int fd, int reg) ;
int wiringPiI2CReadReg16      (int fd, int reg) ;

int wiringPiI2CWrite          (int fd, int data) ;
int wiringPiI2CWriteReg8      (int fd, int reg, int data) ;
int wiringPiI2CWriteReg16     (int fd, int reg, int data) ;

int wiringPiI2CSetupInterface (const char *device, int devId) ;
int wiringPiI2CSetup          (const int devId) ;



